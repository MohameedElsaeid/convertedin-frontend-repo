<!-- Header -->
<convertedin-header
  title="{{ 'auth.forget-password.change-title' | translate }}"
  subtitle="{{ 'auth.forget-password.change-subtitle' | translate }}"
/>

<form
  class="flex flex-column gap-5 md:w-7 lg:w-6 w-10"
  [formGroup]="form"
  (ngSubmit)="submitChangePassword()"
>
  <div class="flex flex-column gap-3">
    <!-- Old Password input -->
    <div class="flex flex-column gap-1">
      <label class="change-password__label">
        {{ 'auth.password.old-password-label' | translate }}
      </label>

      <p-password
        formControlName="oldPassword"
        styleClass="w-full"
        class="w-full change-password__password"
        [toggleMask]="true"
        [feedback]="false"
        placeholder="{{ 'auth.password.old-password-placeholder' | translate }}"
        [ngClass]="{
          'ng-dirty ng-invalid':
            form.get('oldPassword')?.touched && !form.get('oldPassword')?.valid
        }"
      />

      <convertedin-control-errors [control]="form.get('oldPassword')!" />
    </div>

    <convertedin-password-confirm-password
      passwordControlName="password"
      confirmPasswordControlName="passwordConfirmation"
    />
  </div>

  <div class="flex gap-3">
    <!-- Cancel btn -->
    <a
      pButton
      routerLink="/my-dashboard/settings/profile"
      class="p-button-secondary p-button-outlined bg-white no-underline"
    >
      {{ 'common.cancel' | translate }}
    </a>
    <!-- Submit btn -->
    <button
      pButton
      type="submit"
      class="change-password__submit-btn gap-2"
      [disabled]="!form.valid || isLoading"
    >
      {{ 'common.save' | translate }}
      <i class="pi pi-spin pi-spinner" *ngIf="isLoading"></i>
    </button>
  </div>
</form>
